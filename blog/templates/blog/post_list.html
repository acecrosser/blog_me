{% extends "base.html" %}

{% block content %}

    {% for post in posts %}
        <a href="{% url 'blog:detail' post.rubric_name.slug post.slug %}">{{ post.title }} </a> <br>
        {{ post.update|date }} <br>
        {% for tag in post.tags.all %}
            <a href="{% url 'blog:tags' tag %}">{{ tag }}</a>
        {% endfor %}
        <br>{{ post.body|truncatewords:'100' }} <br>
        <a href="{% url 'blog:rubric' post.rubric_name.slug %}"> {{ post.rubric_name }}</a> <br>
        {{ post.author }} <br><br>
    {% endfor %}

    {% if page_obj.has_previous %}
        <a href="?page=1">&laquo; первая</a>
        <a href="?page={{ page_obj.previous_page_number }}">пред.</a>
    {% endif %}
        {{ page_obj.number }} из {{ page_obj.paginator.num_pages }}
    {% if page_obj.has_next %}
        <a href="?page={{ page_obj.next_page_number }}">след.</a>
        <a href="?page={{ page_obj.paginator.num_pages }}">последняя &raquo;</a>
    {% endif %}
{% endblock %}